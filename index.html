<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de Sesión - SAN FRANCISCO DE BORJA</title>
    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAjOZEvWP1EsGxAmU5Zy2JvuSSiovkUJPw",
            authDomain: "vdlpyl-sanfranciscodeborja.firebaseapp.com",
            projectId: "vdlpyl-sanfranciscodeborja",
            storageBucket: "vdlpyl-sanfranciscodeborja.appspot.com",
            messagingSenderId: "401125990033",
            appId: "1:401125990033:web:bc1e0bda0bcb5319af6930"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Función para registrar usuarios
        async function registrar() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                alert("Usuario registrado: " + userCredential.user.email);
            } catch (error) {
                alert("Error en el registro: " + error.message);
            }
        }

        // Función para iniciar sesión
        async function iniciarSesion() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, password);
                alert("Sesión iniciada: " + userCredential.user.email);
            } catch (error) {
                alert("Error al iniciar sesión: " + error.message);
            }
        }

        // Función para cerrar sesión
        async function cerrarSesion() {
            try {
                await signOut(auth);
                alert("Sesión cerrada.");
            } catch (error) {
                alert("Error al cerrar sesión: " + error.message);
            }
        }
    </script>
</head>
<body>
    <h1>Inicio de Sesión - SAN FRANCISCO DE BORJA</h1>
    <form>
        <label for="email">Correo electrónico:</label><br>
        <input type="email" id="email" placeholder="Ingrese su correo"><br><br>
        <label for="password">Contraseña:</label><br>
        <input type="password" id="password" placeholder="Ingrese su contraseña"><br><br>
        <button type="button" onclick="registrar()">Registrarse</button>
        <button type="button" onclick="iniciarSesion()">Iniciar Sesión</button>
        <button type="button" onclick="cerrarSesion()">Cerrar Sesión</button>
    </form>
</body>
</html>
